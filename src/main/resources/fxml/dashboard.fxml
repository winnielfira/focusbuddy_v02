<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.chart.PieChart?>

<BorderPane fx:id="dashboardContainer" styleClass="dashboard-container" xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.focusbuddy.controllers.DashboardController">
   <top>
      <HBox alignment="CENTER_LEFT" spacing="20.0" style="-fx-background-color: white; -fx-padding: 15px 20px;" minHeight="60.0">
         <children>
            <Label fx:id="welcomeLabel" styleClass="card-title" text="Welcome to FocusBuddy!" wrapText="true">
               <font>
                  <Font name="System Bold" size="18.0" />
               </font>
            </Label>
            <Region HBox.hgrow="ALWAYS" />
            <Label fx:id="currentTimeLabel" styleClass="time-label" text="12:00 PM" />
            <ToggleButton fx:id="themeToggle" styleClass="theme-toggle" text="â˜€ï¸" />
            <Button fx:id="logoutButton" styleClass="secondary-button" text="Logout" />
         </children>
      </HBox>
   </top>
   <left>
      <VBox fx:id="sidebar" prefWidth="250.0" styleClass="sidebar" minWidth="200.0">
         <children>
            <VBox spacing="5.0">
               <children>
                  <Button fx:id="dashboardBtn" maxWidth="1.7976931348623157E308"
                          styleClass="sidebar-button" text="&#xf3c5; Dashboard" />
                  <Button fx:id="tasksBtn" maxWidth="1.7976931348623157E308"
                          styleClass="sidebar-button" text="&#xf058; Tasks" />
                  <Button fx:id="pomodoroBtn" maxWidth="1.7976931348623157E308"
                          styleClass="sidebar-button" text="&#xf017; Pomodoro" />
                  <Button fx:id="moodBtn" maxWidth="1.7976931348623157E308"
                          styleClass="sidebar-button" text="&#xf118; Mood Tracker" />
                  <Button fx:id="notesBtn" maxWidth="1.7976931348623157E308"
                          styleClass="sidebar-button" text="&#xf15c; Notes" />
                  <Button fx:id="goalsBtn" maxWidth="1.7976931348623157E308"
                          styleClass="sidebar-button" text="&#xf140; Goals" />
                  <Button fx:id="profileBtn" maxWidth="1.7976931348623157E308"
                          styleClass="sidebar-button" text="&#xf007; Profile" />
               </children>
               <padding>
                  <Insets bottom="20.0" left="10.0" right="10.0" top="20.0" />
               </padding>
            </VBox>
         </children>
      </VBox>
   </left>
   <center>
      <StackPane fx:id="contentArea">
         <children>
            <ScrollPane fitToWidth="true" fitToHeight="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED"
                        style="-fx-background-color: transparent;" pannable="true">
               <content>
                  <VBox spacing="25.0" fillWidth="true">
                     <children>
                        <!-- Welcome & Daily Overview -->
                        <VBox spacing="15.0">
                           <children>
                              <HBox spacing="15.0" alignment="CENTER_LEFT">
                                 <children>
                                    <Label fx:id="greetingLabel" styleClass="greeting-label" text="Good Morning!" />
                                    <Region HBox.hgrow="ALWAYS" />
                                    <Label fx:id="dateLabel" styleClass="date-label" text="Monday, June 30, 2025" />
                                 </children>
                              </HBox>

                              <!-- Daily Stats Cards -->
                              <HBox spacing="15.0" fillHeight="false">
                                 <children>
                                    <!-- Tasks Card -->
                                    <VBox styleClass="stat-card" HBox.hgrow="ALWAYS" alignment="CENTER">
                                       <children>
                                          <Label text="ðŸ“‹" style="-fx-font-size: 24px;" />
                                          <Label fx:id="tasksCompletedLabel" text="0" styleClass="stat-number" />
                                          <Label text="Tasks Completed" styleClass="stat-label" />
                                       </children>
                                    </VBox>

                                    <!-- Focus Time Card -->
                                    <VBox styleClass="stat-card" HBox.hgrow="ALWAYS" alignment="CENTER">
                                       <children>
                                          <Label text="â±ï¸" style="-fx-font-size: 24px;" />
                                          <Label fx:id="focusTimeLabel" text="0h 0m" styleClass="stat-number" />
                                          <Label text="Focus Time" styleClass="stat-label" />
                                       </children>
                                    </VBox>

                                    <!-- Streak Card -->
                                    <VBox styleClass="stat-card" HBox.hgrow="ALWAYS" alignment="CENTER">
                                       <children>
                                          <Label text="ðŸ”¥" style="-fx-font-size: 24px;" />
                                          <Label fx:id="streakLabel" text="0" styleClass="stat-number" />
                                          <Label text="Day Streak" styleClass="stat-label" />
                                       </children>
                                    </VBox>

                                    <!-- Goals Card -->
                                    <VBox styleClass="stat-card" HBox.hgrow="ALWAYS" alignment="CENTER">
                                       <children>
                                          <Label text="ðŸŽ¯" style="-fx-font-size: 24px;" />
                                          <Label fx:id="goalsProgressLabel" text="0/0" styleClass="stat-number" />
                                          <Label text="Goals Progress" styleClass="stat-label" />
                                       </children>
                                    </VBox>
                                 </children>
                              </HBox>
                           </children>
                        </VBox>

                        <!-- Main Content Row -->
                        <HBox spacing="20.0" fillHeight="false">
                           <children>
                              <!-- Left Column -->
                              <VBox spacing="20.0" HBox.hgrow="ALWAYS" prefWidth="400.0">
                                 <children>
                                    <!-- Quick Pomodoro -->
                                    <VBox styleClass="card">
                                       <children>
                                          <HBox alignment="CENTER_LEFT" spacing="10.0">
                                             <children>
                                                <Label styleClass="card-title" text="ðŸ… Quick Focus" />
                                                <Region HBox.hgrow="ALWAYS" />
                                                <Button fx:id="fullPomodoroBtn" styleClass="link-button" text="Full Timer" />
                                             </children>
                                          </HBox>

                                          <VBox alignment="CENTER" spacing="15.0">
                                             <children>
                                                <Label fx:id="timerDisplay" styleClass="mini-timer" text="25:00" />
                                                <ProgressBar fx:id="timerProgress" prefWidth="250.0" progress="0.0" />
                                                <HBox alignment="CENTER" spacing="10.0">
                                                   <children>
                                                      <Button fx:id="startTimerBtn" styleClass="primary-button" text="â–¶ Start" prefWidth="80.0" />
                                                      <Button fx:id="pauseTimerBtn" styleClass="secondary-button" text="â¸ Pause" prefWidth="80.0" />
                                                      <Button fx:id="resetTimerBtn" styleClass="secondary-button" text="â¹ Reset" prefWidth="80.0" />
                                                   </children>
                                                </HBox>
                                             </children>
                                          </VBox>
                                       </children>
                                    </VBox>

                                    <!-- Upcoming Tasks -->
                                    <VBox styleClass="card">
                                       <children>
                                          <HBox alignment="CENTER_LEFT" spacing="10.0">
                                             <children>
                                                <Label styleClass="card-title" text="ðŸ“‹ Today's Tasks" />
                                                <Region HBox.hgrow="ALWAYS" />
                                                <Button fx:id="addTaskBtn" styleClass="primary-button" text="+ Add" prefWidth="60.0" />
                                             </children>
                                          </HBox>

                                          <ScrollPane fitToWidth="true" hbarPolicy="NEVER" maxHeight="200.0" prefHeight="150.0">
                                             <content>
                                                <VBox fx:id="tasksList" spacing="8.0" />
                                             </content>
                                          </ScrollPane>
                                       </children>
                                    </VBox>
                                 </children>
                              </VBox>

                              <!-- Right Column -->
                              <VBox spacing="20.0" HBox.hgrow="ALWAYS" prefWidth="350.0">
                                 <children>
                                    <!-- Weekly Progress -->
                                    <VBox styleClass="card">
                                       <children>
                                          <Label styleClass="card-title" text="ðŸ“Š Weekly Progress" />
                                          <PieChart fx:id="weeklyProgressChart" prefHeight="150.0" />
                                       </children>
                                    </VBox>

                                    <!-- Quick Actions -->
                                    <VBox styleClass="card">
                                       <children>
                                          <Label styleClass="card-title" text="âš¡ Quick Actions" />
                                          <VBox spacing="10.0">
                                             <children>
                                                <Button fx:id="quickNoteBtn" maxWidth="1.7976931348623157E308" styleClass="action-button" text="ðŸ“ Quick Note" />
                                                <Button fx:id="logMoodBtn" maxWidth="1.7976931348623157E308" styleClass="action-button" text="ðŸ˜Š Log Mood" />
                                                <Button fx:id="createGoalBtn" maxWidth="1.7976931348623157E308" styleClass="action-button" text="ðŸŽ¯ New Goal" />
                                                <Button fx:id="viewReportsBtn" maxWidth="1.7976931348623157E308" styleClass="action-button" text="ðŸ“ˆ View Reports" />
                                             </children>
                                          </VBox>
                                       </children>
                                    </VBox>
                                 </children>
                              </VBox>
                           </children>
                        </HBox>

                        <!-- Bottom Row -->
                        <HBox spacing="20.0" fillHeight="false">
                           <children>
                              <!-- Recent Activity -->
                              <VBox styleClass="card" HBox.hgrow="ALWAYS">
                                 <children>
                                    <Label styleClass="card-title" text="ðŸ•’ Recent Activity" />
                                    <VBox fx:id="recentActivityList" spacing="8.0" />
                                 </children>
                              </VBox>

                              <!-- Motivation & Tips -->
                              <VBox styleClass="card" HBox.hgrow="ALWAYS">
                                 <children>
                                    <Label styleClass="card-title" text="ðŸ’¡ Daily Tip" />
                                    <VBox spacing="10.0">
                                       <children>
                                          <Label fx:id="motivationQuote" wrapText="true" styleClass="quote-text"
                                                 text="Focus on progress, not perfection. Every small step counts!" />
                                          <Button fx:id="newTipBtn" styleClass="link-button" text="Get New Tip" />
                                       </children>
                                    </VBox>
                                 </children>
                              </VBox>
                           </children>
                        </HBox>
                     </children>
                     <padding>
                        <Insets bottom="30.0" left="30.0" right="30.0" top="20.0" />
                     </padding>
                  </VBox>
               </content>
            </ScrollPane>
         </children>
      </StackPane>
   </center>
</BorderPane>